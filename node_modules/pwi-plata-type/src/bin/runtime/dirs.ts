import fs from 'node:fs'
import path from 'node:path'

declare global {
    interface PlataRuntime extends PlataRuntimeEType {}
}

type PlataRuntimeEType = typeof PlataRuntimeE

export namespace PlataRuntimeE {
    export const ProjectDir =  path.resolve('.')

    export const ProjectJson = JSON.parse(
        fs.readFileSync(
            path.join(ProjectDir, 'package.json')
        ).toString()
    )

    export const PlataDir =  path.resolve('.', 'node_modules', ProjectJson.plata_name ?? '..')

    export const PlataJson = JSON.parse(
        fs.readFileSync(
            path.join(PlataDir, 'package.json')
        ).toString()
    )
}